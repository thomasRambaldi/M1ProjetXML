

<intervenant>{
	<ol>{
	
		<li>{
			let $uniteTmp := ""
			for $intervenant in doc("newProjet.xml")/master/intervenant
				order by $intervenant
				return <name>{data($intervenant/nom)}
				{
					for $unite in doc("newProjet.xml")/master/unite
						order by $unite
						return if ($intervenant/@id = $unite/ref-intervenant/@ref) then (
						for $parcours in doc("newProjet.xml")/master/parcours
							order by $parcours
							for $refUnite in $parcours/semestre/ref-unite
								return (if ($refUnite/@ref = $unite/@id)
								then   (
											<unite> 
												{data($unite/nom)}
											
											<parcours> 
												{data($parcours/nom)}
											</parcours>
											</unite>
										)
								else ()
								)
						)
						else ()	
				}
				</name>	

		}</li>
	}</ol>

}</intervenant>
